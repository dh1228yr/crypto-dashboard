<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê±°ë˜ì†Œë³„ ì”ê³  ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 { color: #333; font-size: 24px; }
        .btn-group { display: flex; gap: 10px; }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }
        button:hover { opacity: 0.9; transform: translateY(-1px); }
        .btn-primary { background: #667eea; color: white; }
        .btn-secondary { background: #e2e8f0; color: #333; }
        .btn-danger { background: #f56565; color: white; }
        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .card h2 { margin-bottom: 20px; color: #333; }
        .exchange-section {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }
        .exchange-title {
            color: #333;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 10px;
        }
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        .hidden { display: none; }
        .total-balance {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .balance-item {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
        }
        .balance-label { 
            font-size: 14px; 
            opacity: 0.9; 
            margin-bottom: 10px;
        }
        .balance-amount { 
            font-size: 32px; 
            font-weight: 700;
            margin-bottom: 5px;
        }
        .balance-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        .exchanges-container {
            display: grid;
            gap: 30px;
        }
        .exchange-group h3 {
            font-size: 18px;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .exchanges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .exchange-card {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 12px;
            color: white;
        }
        .exchange-name {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 12px;
        }
        .exchange-amount {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .exchange-percentage {
            font-size: 14px;
            font-weight: 600;
            opacity: 0.9;
        }
        .spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .backup-buttons {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }
        .backup-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¦ ê±°ë˜ì†Œë³„ ì”ê³  ëŒ€ì‹œë³´ë“œ</h1>
            <div class="btn-group">
                <button class="btn-secondary" onclick="showSettings()">âš™ï¸ ì„¤ì •</button>
                <button class="btn-primary" onclick="fetchBalances()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                <button class="btn-danger" onclick="resetAll()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
            </div>
        </div>

        <!-- ì„¤ì • í™”ë©´ -->
        <div id="settingsView" class="card hidden">
            <h2>âš™ï¸ API í‚¤ ì„¤ì •</h2>
            
            <div class="exchange-section">
                <div class="exchange-title">ğŸ“ ì—…ë¹„íŠ¸ (Upbit)</div>
                <input type="text" id="upbit-access" placeholder="Access Key">
                <input type="password" id="upbit-secret" placeholder="Secret Key">
            </div>
            
            <div class="exchange-section">
                <div class="exchange-title">ğŸ“ ë¹—ì¸ (Bithumb)</div>
                <input type="text" id="bithumb-connect" placeholder="Connect Key">
                <input type="password" id="bithumb-secret" placeholder="Secret Key">
            </div>
            
            <div class="exchange-section">
                <div class="exchange-title">ğŸ“ ë°”ì´ë‚¸ìŠ¤ (Binance)</div>
                <input type="text" id="binance-api" placeholder="API Key">
                <input type="password" id="binance-secret" placeholder="Secret Key">
            </div>
            
            <div class="exchange-section">
                <div class="exchange-title">ğŸ“ ë°”ì´ë¹— (Bybit)</div>
                <input type="text" id="bybit-api" placeholder="API Key">
                <input type="password" id="bybit-secret" placeholder="Secret Key">
            </div>
            
            <div class="exchange-section">
                <div class="exchange-title">ğŸ“ OKX</div>
                <input type="text" id="okx-api" placeholder="API Key">
                <input type="password" id="okx-secret" placeholder="Secret Key">
                <input type="password" id="okx-pass" placeholder="Passphrase">
            </div>
            
            <div class="backup-buttons">
                <button class="btn-primary" onclick="saveKeys()" style="width: 100%;">ğŸ’¾ ì €ì¥í•˜ê³  ì¡°íšŒí•˜ê¸°</button>
                <div class="backup-row">
                    <button class="btn-secondary" onclick="exportSettings()">ğŸ“¤ ì„¤ì • ë‚´ë³´ë‚´ê¸°</button>
                    <button class="btn-secondary" onclick="importSettings()">ğŸ“¥ ì„¤ì • ê°€ì ¸ì˜¤ê¸°</button>
                </div>
            </div>
            <input type="file" id="import-file" accept=".json" style="display: none;" onchange="handleImport(event)">
        </div>

        <!-- í™˜ì˜ í™”ë©´ -->
        <div id="welcomeView" class="card hidden">
            <h2>âœ… API í‚¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤</h2>
            <p>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì”ê³ ë¥¼ ì¡°íšŒí•˜ì„¸ìš”.</p>
            <br>
            <button class="btn-primary" onclick="fetchBalances()">ğŸ” ì”ê³  ì¡°íšŒí•˜ê¸°</button>
        </div>

        <!-- ë¡œë”© í™”ë©´ -->
        <div id="loadingView" class="card hidden">
            <div class="spinner"></div>
            <p style="text-align: center; color: #666;">ê±°ë˜ì†Œ ì”ê³ ë¥¼ ì¡°íšŒí•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
        </div>

        <!-- ëŒ€ì‹œë³´ë“œ -->
        <div id="dashboardView" class="hidden">
            <!-- ì´ ìì‚° -->
            <div class="card">
                <h2>ğŸ’° ì´ ìì‚°</h2>
                <div class="total-balance">
                    <div class="balance-item">
                        <div class="balance-label">êµ­ë‚´ ê±°ë˜ì†Œ</div>
                        <div class="balance-amount" id="total-krw">0</div>
                        <div class="balance-subtitle">ì—…ë¹„íŠ¸ + ë¹—ì¸</div>
                    </div>
                    <div class="balance-item">
                        <div class="balance-label">í•´ì™¸ ê±°ë˜ì†Œ</div>
                        <div class="balance-amount" id="total-usdt">0</div>
                        <div class="balance-subtitle">ë°”ì´ë‚¸ìŠ¤ + ë°”ì´ë¹— + OKX</div>
                    </div>
                </div>
            </div>

            <!-- ê±°ë˜ì†Œë³„ ì”ê³  -->
            <div class="card">
                <h2>ğŸ“Š ê±°ë˜ì†Œë³„ ì”ê³ </h2>
                <div class="exchanges-container">
                    <div class="exchange-group">
                        <h3>ğŸ‡°ğŸ‡· êµ­ë‚´ ê±°ë˜ì†Œ (KRW)</h3>
                        <div class="exchanges-grid" id="domestic-exchanges"></div>
                    </div>
                    
                    <div class="exchange-group">
                        <h3>ğŸŒ í•´ì™¸ ê±°ë˜ì†Œ (USDT)</h3>
                        <div class="exchanges-grid" id="foreign-exchanges"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function saveToStorage(data) {
            var json = JSON.stringify(data);
            var encoded = btoa(unescape(encodeURIComponent(json)));
            localStorage.setItem('keys', encoded);
        }

        function loadFromStorage() {
            var encoded = localStorage.getItem('keys');
            if (!encoded) return null;
            try {
                var json = decodeURIComponent(escape(atob(encoded)));
                return JSON.parse(json);
            } catch (e) {
                return null;
            }
        }

        function hideAll() {
            document.getElementById('settingsView').classList.add('hidden');
            document.getElementById('welcomeView').classList.add('hidden');
            document.getElementById('loadingView').classList.add('hidden');
            document.getElementById('dashboardView').classList.add('hidden');
        }

        function init() {
            var saved = loadFromStorage();
            if (saved) {
                hideAll();
                document.getElementById('welcomeView').classList.remove('hidden');
            } else {
                hideAll();
                document.getElementById('settingsView').classList.remove('hidden');
            }
        }

        function showSettings() {
            var saved = loadFromStorage();
            if (saved) {
                document.getElementById('upbit-access').value = saved.upbit.access;
                document.getElementById('upbit-secret').value = saved.upbit.secret;
                document.getElementById('bithumb-connect').value = saved.bithumb.connect;
                document.getElementById('bithumb-secret').value = saved.bithumb.secret;
                document.getElementById('binance-api').value = saved.binance.api;
                document.getElementById('binance-secret').value = saved.binance.secret;
                document.getElementById('bybit-api').value = saved.bybit.api;
                document.getElementById('bybit-secret').value = saved.bybit.secret;
                document.getElementById('okx-api').value = saved.okx.api;
                document.getElementById('okx-secret').value = saved.okx.secret;
                document.getElementById('okx-pass').value = saved.okx.pass;
            }
            hideAll();
            document.getElementById('settingsView').classList.remove('hidden');
        }

        function saveKeys() {
            var keys = {
                upbit: {
                    access: document.getElementById('upbit-access').value,
                    secret: document.getElementById('upbit-secret').value
                },
                bithumb: {
                    connect: document.getElementById('bithumb-connect').value,
                    secret: document.getElementById('bithumb-secret').value
                },
                binance: {
                    api: document.getElementById('binance-api').value,
                    secret: document.getElementById('binance-secret').value
                },
                bybit: {
                    api: document.getElementById('bybit-api').value,
                    secret: document.getElementById('bybit-secret').value
                },
                okx: {
                    api: document.getElementById('okx-api').value,
                    secret: document.getElementById('okx-secret').value,
                    pass: document.getElementById('okx-pass').value
                }
            };
            saveToStorage(keys);
            fetchBalances();
        }

        function fetchBalances() {
            hideAll();
            document.getElementById('loadingView').classList.remove('hidden');
            
            var keys = loadFromStorage();
            if (!keys) {
                alert('API í‚¤ë¥¼ ë¨¼ì € ì„¤ì •í•˜ì„¸ìš”!');
                showSettings();
                return;
            }
            
            var promises = [];
            var exchangeNames = [];
            
            // Upbit - API í‚¤ê°€ ìˆì„ ë•Œë§Œ ì¡°íšŒ
            if (keys.upbit.access && keys.upbit.secret) {
                promises.push(
                    fetch('https://crypto-dashboard-xnwp.onrender.com/api/upbit/balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            accessKey: keys.upbit.access,
                            secretKey: keys.upbit.secret
                        })
                    }).then(function(r) { return r.json(); }).catch(function() { return {success: false, balance: 0}; })
                );
                exchangeNames.push('upbit');
            } else {
                promises.push(Promise.resolve({success: false, balance: 0}));
                exchangeNames.push('upbit');
            }
            
            // Bithumb - API í‚¤ê°€ ìˆì„ ë•Œë§Œ ì¡°íšŒ
            if (keys.bithumb.connect && keys.bithumb.secret) {
                promises.push(
                    fetch('https://crypto-dashboard-xnwp.onrender.com/api/bithumb/balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            connectKey: keys.bithumb.connect,
                            secretKey: keys.bithumb.secret
                        })
                    }).then(function(r) { return r.json(); }).catch(function() { return {success: false, balance: 0}; })
                );
                exchangeNames.push('bithumb');
            } else {
                promises.push(Promise.resolve({success: false, balance: 0}));
                exchangeNames.push('bithumb');
            }
            
            // Binance - API í‚¤ê°€ ìˆì„ ë•Œë§Œ ì¡°íšŒ
            if (keys.binance.api && keys.binance.secret) {
                promises.push(
                    fetch('https://crypto-dashboard-xnwp.onrender.com/api/binance/balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            apiKey: keys.binance.api,
                            secretKey: keys.binance.secret
                        })
                    }).then(function(r) { return r.json(); }).catch(function() { return {success: false, balance: 0}; })
                );
                exchangeNames.push('binance');
            } else {
                promises.push(Promise.resolve({success: false, balance: 0}));
                exchangeNames.push('binance');
            }
            
            // Bybit - API í‚¤ê°€ ìˆì„ ë•Œë§Œ ì¡°íšŒ
            if (keys.bybit.api && keys.bybit.secret) {
                promises.push(
                    fetch('https://crypto-dashboard-xnwp.onrender.com/api/bybit/balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            apiKey: keys.bybit.api,
                            secretKey: keys.bybit.secret
                        })
                    }).then(function(r) { return r.json(); }).catch(function() { return {success: false, balance: 0}; })
                );
                exchangeNames.push('bybit');
            } else {
                promises.push(Promise.resolve({success: false, balance: 0}));
                exchangeNames.push('bybit');
            }
            
            // OKX - API í‚¤ê°€ ìˆì„ ë•Œë§Œ ì¡°íšŒ
            if (keys.okx.api && keys.okx.secret && keys.okx.pass) {
                promises.push(
                    fetch('https://crypto-dashboard-xnwp.onrender.com/api/okx/balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            apiKey: keys.okx.api,
                            secretKey: keys.okx.secret,
                            passphrase: keys.okx.pass
                        })
                    }).then(function(r) { return r.json(); }).catch(function() { return {success: false, balance: 0}; })
                );
                exchangeNames.push('okx');
            } else {
                promises.push(Promise.resolve({success: false, balance: 0}));
                exchangeNames.push('okx');
            }
            
            Promise.all(promises).then(function(results) {
                var upbitData = results[0];
                var bithumbData = results[1];
                var binanceData = results[2];
                var bybitData = results[3];
                var okxData = results[4];
                
                var upbitBalance = upbitData.success ? upbitData.balance : 0;
                var bithumbBalance = bithumbData.success ? bithumbData.balance : 0;
                var domesticTotal = upbitBalance + bithumbBalance;
                
                var binanceBalance = binanceData.success ? binanceData.balance : 0;
                var bybitBalance = bybitData.success ? bybitData.balance : 0;
                var okxBalance = okxData.success ? okxData.balance : 0;
                var foreignTotal = binanceBalance + bybitBalance + okxBalance;
                
                var upbitPercent = domesticTotal > 0 ? Math.round((upbitBalance / domesticTotal) * 100) : 0;
                var bithumbPercent = domesticTotal > 0 ? Math.round((bithumbBalance / domesticTotal) * 100) : 0;
                
                var binancePercent = foreignTotal > 0 ? Math.round((binanceBalance / foreignTotal) * 100) : 0;
                var bybitPercent = foreignTotal > 0 ? Math.round((bybitBalance / foreignTotal) * 100) : 0;
                var okxPercent = foreignTotal > 0 ? Math.round((okxBalance / foreignTotal) * 100) : 0;
                
                var data = {
                    domestic: {
                        total: domesticTotal,
                        exchanges: [
                            { name: 'ì—…ë¹„íŠ¸', amount: upbitBalance, percent: upbitPercent },
                            { name: 'ë¹—ì¸', amount: bithumbBalance, percent: bithumbPercent }
                        ]
                    },
                    foreign: {
                        total: foreignTotal,
                        exchanges: [
                            { name: 'ë°”ì´ë‚¸ìŠ¤', amount: binanceBalance, percent: binancePercent },
                            { name: 'ë°”ì´ë¹—', amount: bybitBalance, percent: bybitPercent },
                            { name: 'OKX', amount: okxBalance, percent: okxPercent }
                        ]
                    }
                };
                
                console.log('ì”ê³  ì¡°íšŒ ì„±ê³µ:', data);
                showDashboard(data);
                
            }).catch(function(error) {
                console.error('ì”ê³  ì¡°íšŒ ì‹¤íŒ¨:', error);
                hideAll();
                alert('ì”ê³  ì¡°íšŒ ì‹¤íŒ¨: ' + error.message + '\n\nì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”!');
                document.getElementById('welcomeView').classList.remove('hidden');
            });
        }

        function showDashboard(data) {
            hideAll();
            
            document.getElementById('total-krw').textContent = data.domestic.total.toLocaleString() + ' KRW';
            document.getElementById('total-usdt').textContent = data.foreign.total.toLocaleString() + ' USDT';
            
            var domesticGrid = document.getElementById('domestic-exchanges');
            domesticGrid.innerHTML = '';
            for (var i = 0; i < data.domestic.exchanges.length; i++) {
                var ex = data.domestic.exchanges[i];
                var div = document.createElement('div');
                div.className = 'exchange-card';
                div.innerHTML = '<div class="exchange-name">' + ex.name + '</div>' +
                               '<div class="exchange-amount">' + (ex.amount / 1000).toFixed(0) + 'K KRW</div>' +
                               '<div class="exchange-percentage">' + ex.percent + '%</div>';
                domesticGrid.appendChild(div);
            }
            
            var foreignGrid = document.getElementById('foreign-exchanges');
            foreignGrid.innerHTML = '';
            for (var j = 0; j < data.foreign.exchanges.length; j++) {
                var ex = data.foreign.exchanges[j];
                var div = document.createElement('div');
                div.className = 'exchange-card';
                div.innerHTML = '<div class="exchange-name">' + ex.name + '</div>' +
                               '<div class="exchange-amount">' + ex.amount.toLocaleString() + ' USDT</div>' +
                               '<div class="exchange-percentage">' + ex.percent + '%</div>';
                foreignGrid.appendChild(div);
            }
            
            document.getElementById('dashboardView').classList.remove('hidden');
        }

        function resetAll() {
            if (confirm('ëª¨ë“  ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('keys');
                document.getElementById('upbit-access').value = '';
                document.getElementById('upbit-secret').value = '';
                document.getElementById('bithumb-connect').value = '';
                document.getElementById('bithumb-secret').value = '';
                document.getElementById('binance-api').value = '';
                document.getElementById('binance-secret').value = '';
                document.getElementById('bybit-api').value = '';
                document.getElementById('bybit-secret').value = '';
                document.getElementById('okx-api').value = '';
                document.getElementById('okx-secret').value = '';
                document.getElementById('okx-pass').value = '';
                hideAll();
                document.getElementById('settingsView').classList.remove('hidden');
            }
        }

        // ì„¤ì • ë‚´ë³´ë‚´ê¸°
        function exportSettings() {
            var keys = loadFromStorage();
            if (!keys) {
                alert('âš ï¸ ì €ì¥ëœ ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤!\n\në¨¼ì € API í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•˜ì„¸ìš”.');
                return;
            }
            
            var dataStr = JSON.stringify(keys, null, 2);
            var dataBlob = new Blob([dataStr], {type: 'application/json'});
            var url = URL.createObjectURL(dataBlob);
            var link = document.createElement('a');
            link.href = url;
            var timestamp = new Date().toISOString().slice(0,10);
            link.download = 'crypto-dashboard-backup-' + timestamp + '.json';
            link.click();
            URL.revokeObjectURL(url);
            
            alert('âœ… ì„¤ì •ì„ íŒŒì¼ë¡œ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤!\n\nğŸ“ íŒŒì¼ëª…: crypto-dashboard-backup-' + timestamp + '.json\n\nâš ï¸ ì´ íŒŒì¼ì—ëŠ” API í‚¤ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nì•ˆì „í•œ ê³³ì— ë³´ê´€í•˜ì„¸ìš”!');
        }
        
        // ì„¤ì • ê°€ì ¸ì˜¤ê¸° ë²„íŠ¼
        function importSettings() {
            document.getElementById('import-file').click();
        }
        
        // íŒŒì¼ ì„ íƒ ì‹œ ì²˜ë¦¬
        function handleImport(event) {
            var file = event.target.files[0];
            if (!file) return;
            
            var reader = new FileReader();
            reader.onload = function(e) {
                try {
                    var importedKeys = JSON.parse(e.target.result);
                    
                    // ìœ íš¨ì„± ê²€ì‚¬
                    if (!importedKeys.upbit || !importedKeys.binance) {
                        alert('âŒ ì˜¬ë°”ë¥¸ ì„¤ì • íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤!');
                        return;
                    }
                    
                    // localStorageì— ì €ì¥
                    saveToStorage(importedKeys);
                    
                    // ì…ë ¥ í¼ì— í‘œì‹œ
                    document.getElementById('upbit-access').value = importedKeys.upbit.access || '';
                    document.getElementById('upbit-secret').value = importedKeys.upbit.secret || '';
                    document.getElementById('bithumb-connect').value = importedKeys.bithumb.connect || '';
                    document.getElementById('bithumb-secret').value = importedKeys.bithumb.secret || '';
                    document.getElementById('binance-api').value = importedKeys.binance.api || '';
                    document.getElementById('binance-secret').value = importedKeys.binance.secret || '';
                    document.getElementById('bybit-api').value = importedKeys.bybit.api || '';
                    document.getElementById('bybit-secret').value = importedKeys.bybit.secret || '';
                    document.getElementById('okx-api').value = importedKeys.okx.api || '';
                    document.getElementById('okx-secret').value = importedKeys.okx.secret || '';
                    document.getElementById('okx-pass').value = importedKeys.okx.pass || '';
                    
                    alert('âœ… ì„¤ì •ì„ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤!\n\n"ì €ì¥í•˜ê³  ì¡°íšŒí•˜ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.');
                    
                } catch (error) {
                    alert('âŒ íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤!\n\n' + error.message);
                }
                
                // íŒŒì¼ ì…ë ¥ ì´ˆê¸°í™”
                event.target.value = '';
            };
            reader.readAsText(file);
        }

        window.onload = init;
    </script>
</body>
</html>

